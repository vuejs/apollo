var VueApollo=function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=200,o="__lodash_hash_undefined__",i=1/0,n=9007199254740991,a="[object Arguments]",s="[object Function]",u="[object GeneratorFunction]",l="[object Symbol]",c=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,p="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,v=p||f||Function("return this")();function d(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,o){var i=t.length,n=r+(o?1:-1);for(;o?n--:++n<i;)if(e(t[n],n,t))return n;return-1}(t,m,r);var o=r-1,i=t.length;for(;++o<i;)if(t[o]===e)return o;return-1}(t,e,0)>-1}function y(t,e,r){for(var o=-1,i=t?t.length:0;++o<i;)if(r(e,t[o]))return!0;return!1}function b(t,e){for(var r=-1,o=t?t.length:0,i=Array(o);++r<o;)i[r]=e(t[r],r,t);return i}function g(t,e){for(var r=-1,o=e.length,i=t.length;++r<o;)t[i+r]=e[r];return t}function m(t){return t!=t}function _(t,e){return t.has(e)}function $(t,e){return function(r){return t(e(r))}}var k=Array.prototype,w=Function.prototype,O=Object.prototype,j=v["__core-js_shared__"],S=function(){var t=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),A=w.toString,P=O.hasOwnProperty,x=O.toString,q=RegExp("^"+A.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=v.Symbol,D=$(Object.getPrototypeOf,Object),E=O.propertyIsEnumerable,L=k.splice,T=Q?Q.isConcatSpreadable:void 0,C=Object.getOwnPropertySymbols,M=Math.max,R=z(v,"Map"),N=z(Object,"create");function V(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function F(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function K(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function I(t){var e=-1,r=t?t.length:0;for(this.__data__=new K;++e<r;)this.add(t[e])}function W(t,e){var r=nt(t)||rt(t)?function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}(t.length,String):[],o=r.length,i=!!o;for(var n in t)!e&&!P.call(t,n)||i&&("length"==n||tt(n,o))||r.push(n);return r}function H(t,e){for(var r,o,i=t.length;i--;)if((r=t[i][0])===(o=e)||r!=r&&o!=o)return i;return-1}function G(t){return!(!ut(t)||S&&S in t)&&(st(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?q:c).test(function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function J(t){if(!ut(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e,r,o,i=(r=(e=t)&&e.constructor,o="function"==typeof r&&r.prototype||O,e===o),n=[];for(var a in t)("constructor"!=a||!i&&P.call(t,a))&&n.push(a);return n}function B(t){return function(t,e,r){var o=e(t);return nt(t)?o:g(o,r(t))}(t,ct,Y)}function U(t,e){var r,o,i=t.__data__;return("string"==(o=typeof(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function z(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return G(r)?r:void 0}V.prototype.clear=function(){this.__data__=N?N(null):{}},V.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},V.prototype.get=function(t){var e=this.__data__;if(N){var r=e[t];return r===o?void 0:r}return P.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return N?void 0!==e[t]:P.call(e,t)},V.prototype.set=function(t,e){return this.__data__[t]=N&&void 0===e?o:e,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(t){var e=this.__data__,r=H(e,t);return!(r<0||(r==e.length-1?e.pop():L.call(e,r,1),0))},F.prototype.get=function(t){var e=this.__data__,r=H(e,t);return r<0?void 0:e[r][1]},F.prototype.has=function(t){return H(this.__data__,t)>-1},F.prototype.set=function(t,e){var r=this.__data__,o=H(r,t);return o<0?r.push([t,e]):r[o][1]=e,this},K.prototype.clear=function(){this.__data__={hash:new V,map:new(R||F),string:new V}},K.prototype.delete=function(t){return U(this,t).delete(t)},K.prototype.get=function(t){return U(this,t).get(t)},K.prototype.has=function(t){return U(this,t).has(t)},K.prototype.set=function(t,e){return U(this,t).set(t,e),this},I.prototype.add=I.prototype.push=function(t){return this.__data__.set(t,o),this},I.prototype.has=function(t){return this.__data__.has(t)};var X=C?$(C,Object):ht,Y=C?function(t){for(var e=[];t;)g(e,X(t)),t=D(t);return e}:ht;function Z(t){return nt(t)||rt(t)||!!(T&&t&&t[T])}function tt(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}function et(t){if("string"==typeof t||function(t){return"symbol"==typeof t||lt(t)&&x.call(t)==l}(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function rt(t){return function(t){return lt(t)&&at(t)}(t)&&P.call(t,"callee")&&(!E.call(t,"callee")||x.call(t)==a)}var ot,it,nt=Array.isArray;function at(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!st(t)}function st(t){var e=ut(t)?x.call(t):"";return e==s||e==u}function ut(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function lt(t){return!!t&&"object"==typeof t}function ct(t){return at(t)?W(t,!0):J(t)}function ht(){return[]}var pt=(ot=function(t,e){return null==t?{}:(e=b(function t(e,r,o,i,n){var a=-1,s=e.length;for(o||(o=Z),n||(n=[]);++a<s;){var u=e[a];r>0&&o(u)?r>1?t(u,r-1,o,i,n):g(n,u):i||(n[n.length]=u)}return n}(e,1),et),function(t,e){return function(t,e,r){for(var o=-1,i=e.length,n={};++o<i;){var a=e[o],s=t[a];r(s,a)&&(n[a]=s)}return n}(t=Object(t),e,function(e,r){return r in t})}(t,function(t,e,o,i){var n,a=-1,s=d,u=!0,l=t.length,c=[],h=e.length;if(!l)return c;o&&(e=b(e,(n=o,function(t){return n(t)}))),i?(s=y,u=!1):e.length>=r&&(s=_,u=!1,e=new I(e));t:for(;++a<l;){var p=t[a],f=o?o(p):p;if(p=i||0!==p?p:0,u&&f==f){for(var v=h;v--;)if(e[v]===f)continue t;c.push(p)}else s(e,f,i)||c.push(p)}return c}(B(t),e)))},it=M(void 0===it?ot.length-1:it,0),function(){for(var t=arguments,e=-1,r=M(t.length-it,0),o=Array(r);++e<r;)o[e]=t[it+e];e=-1;for(var i=Array(it+1);++e<it;)i[e]=t[e];return i[it]=o,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(ot,this,i)}),ft="Expected a function",vt=NaN,dt="[object Symbol]",yt=/^\s+|\s+$/g,bt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,_t=parseInt,$t="object"==typeof e&&e&&e.Object===Object&&e,kt="object"==typeof self&&self&&self.Object===Object&&self,wt=$t||kt||Function("return this")(),Ot=Object.prototype.toString,jt=Math.max,St=Math.min,At=function(){return wt.Date.now()};function Pt(t,e,r){var o,i,n,a,s,u,l=0,c=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(ft);function f(e){var r=o,n=i;return o=i=void 0,l=e,a=t.apply(n,r)}function v(t){var r=t-u;return void 0===u||r>=e||r<0||h&&t-l>=n}function d(){var t=At();if(v(t))return y(t);s=setTimeout(d,function(t){var r=e-(t-u);return h?St(r,n-(t-l)):r}(t))}function y(t){return s=void 0,p&&o?f(t):(o=i=void 0,a)}function b(){var t=At(),r=v(t);if(o=arguments,i=this,u=t,r){if(void 0===s)return function(t){return l=t,s=setTimeout(d,e),c?f(t):a}(u);if(h)return s=setTimeout(d,e),f(u)}return void 0===s&&(s=setTimeout(d,e)),a}return e=qt(e)||0,xt(r)&&(c=!!r.leading,n=(h="maxWait"in r)?jt(qt(r.maxWait)||0,e):n,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=u=i=s=void 0},b.flush=function(){return void 0===s?a:y(At())},b}function xt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function qt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&Ot.call(t)==dt}(t))return vt;if(xt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=xt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(yt,"");var r=gt.test(t);return r||mt.test(t)?_t(t.slice(2),r?2:8):bt.test(t)?vt:+t}var Qt=function(t,e,r){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(ft);return xt(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Pt(t,e,{leading:o,maxWait:e,trailing:i})},Dt="Expected a function",Et=NaN,Lt="[object Symbol]",Tt=/^\s+|\s+$/g,Ct=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,Rt=/^0o[0-7]+$/i,Nt=parseInt,Vt="object"==typeof e&&e&&e.Object===Object&&e,Ft="object"==typeof self&&self&&self.Object===Object&&self,Kt=Vt||Ft||Function("return this")(),It=Object.prototype.toString,Wt=Math.max,Ht=Math.min,Gt=function(){return Kt.Date.now()};function Jt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Bt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&It.call(t)==Lt}(t))return Et;if(Jt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Jt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Tt,"");var r=Mt.test(t);return r||Rt.test(t)?Nt(t.slice(2),r?2:8):Ct.test(t)?Et:+t}var Ut=function(t,e,r){var o,i,n,a,s,u,l=0,c=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(Dt);function f(e){var r=o,n=i;return o=i=void 0,l=e,a=t.apply(n,r)}function v(t){var r=t-u;return void 0===u||r>=e||r<0||h&&t-l>=n}function d(){var t=Gt();if(v(t))return y(t);s=setTimeout(d,function(t){var r=e-(t-u);return h?Ht(r,n-(t-l)):r}(t))}function y(t){return s=void 0,p&&o?f(t):(o=i=void 0,a)}function b(){var t=Gt(),r=v(t);if(o=arguments,i=this,u=t,r){if(void 0===s)return function(t){return l=t,s=setTimeout(d,e),c?f(t):a}(u);if(h)return s=setTimeout(d,e),f(u)}return void 0===s&&(s=setTimeout(d,e)),a}return e=Bt(e)||0,Jt(r)&&(c=!!r.leading,n=(h="maxWait"in r)?Wt(Bt(r.maxWait)||0,e):n,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=u=i=s=void 0},b.flush=function(){return void 0===s?a:y(Gt())},b},zt={};function Xt(t){return function(e,r){return"number"==typeof r?t(e,r):t(e,r.wait,r)}}var Yt=Xt(Qt),Zt=Xt(Ut);function te(t,e){for(;"function"==typeof t;)t=t.call(e);return t}var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},oe=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ne=function t(e,r,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,r,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0},ae=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},se=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},ue=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},le=function(){function t(e,r,o){var i=this,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(re(this,t),this.type=null,this.vueApolloSpecialKeys=[],this.vm=e,this.key=r,this.options=Object.assign({},o),this._skip=!1,this._watchers=[],this._destroyed=!1,"function"==typeof this.options.query){var a=this.options.query.bind(this.vm);this.options.query=a(),this._watchers.push(this.vm.$watch(a,function(t){i.options.query=t,i.refresh()}))}if("function"==typeof this.options.document){var s=this.options.document.bind(this.vm);this.options.document=s(),this._watchers.push(this.vm.$watch(s,function(t){i.options.document=t,i.refresh()}))}if("function"==typeof this.options.context){var u=this.options.context.bind(this.vm);this.options.context=u(),this._watchers.push(this.vm.$watch(u,function(t){i.options.context=t,i.refresh()}))}this.vm.$isServer&&(this.options.fetchPolicy="cache-first"),n&&this.autostart()}return oe(t,[{key:"autostart",value:function(){"function"==typeof this.options.skip?this._watchers.push(this.vm.$watch(this.options.skip.bind(this.vm),this.skipChanged.bind(this),{immediate:!0})):this.options.skip?this._skip=!0:this.start()}},{key:"skipChanged",value:function(t,e){t!==e&&(this.skip=t)}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var t=this;if(this.starting=!0,"function"==typeof this.options.variables){var e=this.executeApollo.bind(this);e=this.options.throttle?Yt(e,this.options.throttle):e,e=this.options.debounce?Zt(e,this.options.debounce):e,this.unwatchVariables=this.vm.$watch(function(){return t.options.variables.call(t.vm)},e,{immediate:!0})}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){this.unwatchVariables&&(this.unwatchVariables(),this.unwatchVariables=null),this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(t){var e=pt(this.options,this.vueApolloSpecialKeys);return e.variables=t,e}},{key:"executeApollo",value:function(t){this.starting=!1}},{key:"nextResult",value:function(){throw new Error("Not implemented")}},{key:"errorHandler",value:function(){for(var t,e,r,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];this.options.error&&(t=this.options.error).call.apply(t,[this.vm].concat(i)),this.vm.$apollo.error&&(e=this.vm.$apollo.error).call.apply(e,[this.vm].concat(i)),this.vm.$apollo.provider.errorHandler&&(r=this.vm.$apollo.provider.errorHandler).call.apply(r,[this.vm].concat(i))}},{key:"catchError",value:function(t){if(t.graphQLErrors&&0!==t.graphQLErrors.length){console.error("GraphQL execution errors for "+this.type+" '"+this.key+"'");var e=!0,r=!1,o=void 0;try{for(var i,n=t.graphQLErrors[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var a=i.value;console.error(a)}}catch(t){r=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw o}}}else if(t.networkError)console.error("Error sending the "+this.type+" '"+this.key+"'",t.networkError);else{var s;if(console.error("[vue-apollo] An error has occured for "+this.type+" '"+this.key+"'"),Array.isArray(t))(s=console).error.apply(s,ue(t));else console.error(t)}this.errorHandler(t)}},{key:"destroy",value:function(){if(!this._destroyed){this._destroyed=!0,this.stop();var t=!0,e=!1,r=void 0;try{for(var o,i=this._watchers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)()}}catch(t){e=!0,r=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw r}}}}},{key:"skip",get:function(){return this._skip},set:function(t){t?this.stop():this.start(),this._skip=t}}]),t}(),ce=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],he=function(t){function e(t,r,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(re(this,e),o.query)||(o={query:o});t.$data.$apolloData&&!t.$data.$apolloData.queries[r]&&t.$set(t.$data.$apolloData.queries,r,{loading:!1});var n=se(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,o,i));return n.type="query",n.vueApolloSpecialKeys=ce,n._loading=!1,n.hasDataField=n.vm.$data.hasOwnProperty(r),n.hasDataField?Object.defineProperty(n.vm.$data.$apolloData.data,r,{get:function(){return n.vm.$data[r]},enumerable:!0,configurable:!0}):Object.defineProperty(n.vm.$data,r,{get:function(){return n.vm.$data.$apolloData.data[r]},enumerable:!0,configurable:!0}),n}return ae(e,le),oe(e,[{key:"stop",value:function(){ne(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"executeApollo",value:function(t){this.observer?this.observer.setOptions(this.generateApolloOptions(t)):(this.sub&&this.sub.unsubscribe(),this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(t)),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}));var r=this.maySetLoading();r.loading||this.nextResult(r),ne(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"executeApollo",this).call(this,t)}},{key:"maySetLoading",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.observer.currentResult();return(t||e.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),e}},{key:"nextResult",value:function(t){var e=t.data;t.loading||this.loadingDone();var r="function"==typeof this.options.result;void 0===e||(this.options.manual?r||console.error(this.key+" query must have a 'result' hook in manual mode"):"function"==typeof this.options.update?this.setData(this.options.update.call(this.vm,e)):void 0===e[this.key]?console.error("Missing "+this.key+" attribute on result",e):this.setData(e[this.key])),r&&this.options.result.call(this.vm,t)}},{key:"setData",value:function(t){this.vm.$set(this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data,this.key,t)}},{key:"catchError",value:function(t){ne(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"catchError",this).call(this,t),this.loadingDone()}},{key:"watchLoading",value:function(){for(var t,e,r,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];this.options.watchLoading&&(t=this.options.watchLoading).call.apply(t,[this.vm].concat(i)),this.vm.$apollo.watchLoading&&(e=this.vm.$apollo.watchLoading).call.apply(e,[this.vm].concat(i)),this.vm.$apollo.provider.watchLoading&&(r=this.vm.$apollo.provider.watchLoading).call.apply(r,[this.vm].concat(i))}},{key:"applyLoadingModifier",value:function(t){var e=this.loadingKey;e&&"number"==typeof this.vm[e]&&(this.vm[e]+=t),this.watchLoading(1===t,t)}},{key:"loadingDone",value:function(){this.loading&&this.applyLoadingModifier(-1),this.loading=!1}},{key:"fetchMore",value:function(){var t,e=this;if(this.observer)return this.maySetLoading(!0),(t=this.observer).fetchMore.apply(t,arguments).then(function(t){return t.loading||e.loadingDone(),t})}},{key:"subscribeToMore",value:function(){var t;if(this.observer)return{unsubscribe:(t=this.observer).subscribeToMore.apply(t,arguments)}}},{key:"refetch",value:function(t){var e=this;if(t&&(this.options.variables=t),this.observer){var r=this.observer.refetch(t).then(function(t){return t.loading||e.loadingDone(),t});return this.maySetLoading(),r}}},{key:"setVariables",value:function(t,e){if(this.options.variables=t,this.observer){var r=this.observer.setVariables(t,e);return this.maySetLoading(),r}}},{key:"setOptions",value:function(t){if(Object.assign(this.options,t),this.observer){var e=this.observer.setOptions(t);return this.maySetLoading(),e}}},{key:"startPolling",value:function(){var t;if(this.observer)return(t=this.observer).startPolling.apply(t,arguments)}},{key:"stopPolling",value:function(){var t;if(this.observer)return(t=this.observer).stopPolling.apply(t,arguments)}},{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(t){this._loading!==t&&(this._loading=t,this.vm.$data.$apolloData&&(this.vm.$data.$apolloData.queries[this.key].loading=t,this.vm.$data.$apolloData.loading+=t?1:-1))}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}}]),e}(),pe=function(t){function e(){var t,r,o;re(this,e);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=o=se(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(n))),o.type="subscription",o.vueApolloSpecialKeys=["variables","result","error","throttle","debounce","linkedQuery"],se(o,r)}return ae(e,le),oe(e,[{key:"executeApollo",value:function(t){var r=JSON.stringify(t);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=r;var o=this.generateApolloOptions(t);if("function"==typeof o.updateQuery&&(o.updateQuery=o.updateQuery.bind(this.vm)),this.options.linkedQuery){if("function"==typeof this.options.result){var i=this.options.result.bind(this.vm),n=o.updateQuery&&o.updateQuery.bind(this.vm);o.updateQuery=function(){i.apply(void 0,arguments),n&&n.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(o)}else this.observer=this.vm.$apollo.subscribe(o),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});ne(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"executeApollo",this).call(this,t)}},{key:"nextResult",value:function(t){"function"==typeof this.options.result&&this.options.result.call(this.vm,t)}}]),e}(),fe=function(){function t(e){re(this,t),this._apolloSubscriptions=[],this._watchers=[],this.vm=e,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return oe(t,[{key:"query",value:function(t){return this.getClient(t).query(t)}},{key:"getClient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||!t.client){if("object"===ee(this.client))return this.client;if(this.client){if(this.provider.clients){var e=this.provider.clients[this.client];if(!e)throw new Error("[vue-apollo] Missing client '"+this.client+"' in 'apolloProvider'");return e}throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'")}return this.provider.defaultClient}var r=this.provider.clients[t.client];if(!r)throw new Error("[vue-apollo] Missing client '"+t.client+"' in 'apolloProvider'");return r}},{key:"watchQuery",value:function(t){var e=this,r=this.getClient(t).watchQuery(t),o=r.subscribe.bind(r);return r.subscribe=function(t){var r=o(t);return e._apolloSubscriptions.push(r),r},r}},{key:"mutate",value:function(t){return this.getClient(t).mutate(t)}},{key:"subscribe",value:function(t){var e=this;if(!this.vm.$isServer){var r=this.getClient(t).subscribe(t),o=r.subscribe.bind(r);return r.subscribe=function(t){var r=o(t);return e._apolloSubscriptions.push(r),r},r}}},{key:"addSmartQuery",value:function(t,e){var r=this;e=te(e,this.vm);var o=this.queries[t]=new he(this.vm,t,e,!1);if(o.autostart(),!this.vm.$isServer){var i=e.subscribeToMore;i&&(Array.isArray(i)?i.forEach(function(e,i){r.addSmartSubscription(""+t+i,ie({},e,{linkedQuery:o}))}):this.addSmartSubscription(t,ie({},i,{linkedQuery:o})))}return o}},{key:"addSmartSubscription",value:function(t,e){if(!this.vm.$isServer){e=te(e,this.vm);var r=this.subscriptions[t]=new pe(this.vm,t,e,!1);return r.autostart(),r}}},{key:"defineReactiveSetter",value:function(t,e){var r=this;this._watchers.push(this.vm.$watch(e,function(e){r[t]=e},{immediate:!0}))}},{key:"destroy",value:function(){var t=!0,e=!1,r=void 0;try{for(var o,i=this._watchers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)()}}catch(t){e=!0,r=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw r}}for(var n in this.queries)this.queries[n].destroy();for(var a in this.subscriptions)this.subscriptions[a].destroy();this._apolloSubscriptions.forEach(function(t){t.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}},{key:"provider",get:function(){return this.vm.$apolloProvider}},{key:"loading",get:function(){return 0!==this.vm.$data.$apolloData.loading}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"skipAllQueries",set:function(t){for(var e in this.queries)this.queries[e].skip=t}},{key:"skipAllSubscriptions",set:function(t){for(var e in this.subscriptions)this.subscriptions[e].skip=t}},{key:"skipAll",set:function(t){this.skipAllQueries=t,this.skipAllSubscriptions=t}}]),t}(),ve=function(){function t(e){if(re(this,t),!e)throw new Error("Options argument required");this.clients=e.clients||{},this.clients.defaultClient=this.defaultClient=e.defaultClient,this.defaultOptions=e.defaultOptions,this.watchLoading=e.watchLoading,this.errorHandler=e.errorHandler,this.prefetchQueries=[]}return oe(t,[{key:"provide",value:function(){return function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$apolloProvider",this)}},{key:"addQueryToPrefetch",value:function(t,e){this.prefetchQueries.push({queryOptions:t,client:e})}},{key:"prefetchComponent",value:function(t,e){var r;r=t;var o=(t=zt.Vue.util.mergeOptions({},r)).apollo;if(o){var i=o.$client;for(var n in o){var a=o[n];"$"===n.charAt(0)||a.query&&(void 0!==a.ssr&&!a.ssr||void 0===a.prefetch||!a.prefetch)||this.addQueryToPrefetch(a,a.client||i)}}}},{key:"prefetchComponents",value:function(t){var e=!0,r=!1,o=void 0;try{for(var i,n=t[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var a=i.value;this.prefetchComponent(a)}}catch(t){r=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw o}}}},{key:"prefetchAll",value:function(t,e,r){var o=this;r||!e||Array.isArray(e)||(r=e,e=void 0);var i=Object.assign({},{includeGlobal:!0},r);return e&&this.prefetchComponents(e),i.includeGlobal&&this.prefetchComponents(de.filter(function(e){e.component;var r=e.contextCallback,o=!0;return"function"==typeof r&&(o=!!r(t)),o}).map(function(t){return t.component}),t),Promise.all(this.prefetchQueries.map(function(e){return o.prefetchQuery(e.queryOptions,t,e.client)}))}},{key:"prefetchQuery",value:function(t,e,r){var o=void 0;if(r){if("string"==typeof r&&!(r=this.clients[r]))throw new Error("[vue-apollo] Missing client '"+r+"' in 'apolloProvider'")}else r=this.defaultClient;if(t.query){var i=t.prefetch,n=void 0===i?"undefined":ee(i);if("undefined"!==n){var a=void 0;if(!(a="function"===n?i(e):i))return Promise.resolve();if("boolean"===n){var s=t.variables;o=void 0!==s?"function"==typeof s?s.call(e):s:void 0}else o=a}}else t={query:t};return"function"==typeof t.query&&(t.query=t.query(e)),new Promise(function(e,i){var n=pt(t,[].concat(ue(ce),["fetchPolicy"]));n.variables=o,n.fetchPolicy="network-only",r.query(n).then(e,i)})}},{key:"getStates",value:function(t){var e=Object.assign({},{exportNamespace:""},t),r={};for(var o in this.clients){var i=this.clients[o].cache.extract();r[""+e.exportNamespace+o]=i}return r}},{key:"exportStates",value:function(t){var e=Object.assign({},{globalName:"__APOLLO_STATE__",attachTo:"window"},t),r=this.getStates(e);return e.attachTo+"."+e.globalName+" = "+JSON.stringify(r)+";"}}]),t}(),de=[];function ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return de.push({component:t,contextCallback:e}),t}"undefined"!=typeof window?window.vueApolloWillPrefetch=ye:"undefined"!=typeof global&&(global.vueApolloWillPrefetch=ye);var be={name:"ApolloQuery",provide:function(){return{getDollarApollo:this.getDollarApollo,getApolloQuery:this.getApolloQuery}},props:{query:{type:Object,required:!0},variables:{type:Object,default:null},fetchPolicy:{type:String,default:"cache-first"},pollInterval:{type:Number,default:0},notifyOnNetworkStatusChange:{type:Boolean,default:!1},context:{type:Object,default:null},skip:{type:Boolean,default:!1},clientId:{type:String,default:void 0},tag:{type:String,default:"div"}},data:function(){return{result:{data:null,loading:!1,networkStatus:7,error:null,times:0}}},watch:{fetchPolicy:function(t){this.$apollo.queries.query.setOptions({fetchPolicy:t})},pollInterval:function(t){this.$apollo.queries.query.setOptions({pollInterval:t})},notifyOnNetworkStatusChange:function(t){this.$apollo.queries.query.setOptions({notifyOnNetworkStatusChange:t})}},apollo:{$client:function(){return this.clientId},query:function(){return{query:function(){return this.query},variables:function(){return this.variables},fetchPolicy:this.fetchPolicy,pollInterval:this.pollInterval,notifyOnNetworkStatusChange:this.notifyOnNetworkStatusChange,context:function(){return this.context},skip:function(){return this.skip},manual:!0,result:function(t){var e=t,r=e.errors,o=e.loading,i=e.networkStatus,n=t.error;t=Object.assign({},t),r&&r.length&&((n=new Error("Apollo errors occured ("+r.length+")")).graphQLErrors=r);var a={};o?Object.assign(a,this.$_previousData,t.data):n?Object.assign(a,this.$apollo.queries.query.observer.getLastResult()||{},t.data):(a=t.data,this.$_previousData=t.data),this.result={data:function(t){return Object.keys(t).length>0}(a)?a:void 0,loading:o,error:n,networkStatus:i,times:++this.$_times},this.$emit("result",this.result)},error:function(t){this.result.loading=!1,this.result.error=t,console.log(this.$apollo.queries.query.observer.currentResult()),this.$emit("error",t)}}}},created:function(){this.$_times=0},methods:{getDollarApollo:function(){return this.$apollo},getApolloQuery:function(){return this.$apollo.queries.query}},render:function(t){var e=this.$scopedSlots.default({result:this.result,query:this.$apollo.queries.query});return e=Array.isArray(e)?e.concat(this.$slots.default):[e].concat(this.$slots.default),t(this.tag,e)}},ge=0,me={name:"ApolloSubscribeToMore",inject:["getDollarApollo","getApolloQuery"],props:{document:{type:Object,required:!0},variables:{type:Object,default:null},updateQuery:{type:Function,default:null}},watch:{document:"refresh",variables:"refresh"},created:function(){this.$_key="sub_component_"+ge++},mounted:function(){this.refresh()},beforeDestroy:function(){this.destroy()},methods:{destroy:function(){this.$_sub&&this.$_sub.destroy()},refresh:function(){this.destroy(),this.$_sub=this.getDollarApollo().addSmartSubscription(this.$_key,{document:this.document,variables:this.variables,updateQuery:this.updateQuery,linkedQuery:this.getApolloQuery()})}},render:function(t){return null}},_e={props:{mutation:{type:Object,required:!0},variables:{type:Object,default:void 0},optimisticResponse:{type:Object,default:void 0},update:{type:Function,default:void 0},refetchQueries:{type:Function,default:void 0},tag:{type:String,default:"div"}},data:function(){return{loading:!1,error:null}},methods:{mutate:function(t){var e,r=this;return(e=regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.loading=!0,r.error=null,e.prev=2,e.next=5,r.$apollo.mutate(ie({mutation:r.mutation,variables:r.variables,optimisticResponse:r.optimisticResponse,update:r.update,refetchQueries:r.refetchQueries},t));case 5:o=e.sent,r.$emit("done",o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),r.error=e.t0,r.$emit("error",e.t0);case 13:r.loading=!1;case 14:case"end":return e.stop()}},e,r,[[2,9]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function o(i,n){try{var a=t[i](n),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){o("next",t)},function(t){o("throw",t)});e(s)}("next")})})()}},render:function(t){var e=this.$scopedSlots.default({mutate:this.mutate,loading:this.loading,error:this.error});return e=Array.isArray(e)?e.concat(this.$slots.default):[e].concat(this.$slots.default),t(this.tag,e)}},$e=["$subscribe"];function ke(t,e){return void 0!==t&&t.hasOwnProperty(e)}var we=function(){var t=this,e=this.$apolloProvider;if(!this._apolloLaunched&&e){this._apolloLaunched=!0;var r=this.$options.apollo;if(r){r.$init||(r.$init=!0,e.defaultOptions&&(r=this.$options.apollo=Object.assign({},e.defaultOptions,r))),Oe(this.$apollo,"skipAll",r.$skipAll),Oe(this.$apollo,"skipAllQueries",r.$skipAllQueries),Oe(this.$apollo,"skipAllSubscriptions",r.$skipAllSubscriptions),Oe(this.$apollo,"client",r.$client),Oe(this.$apollo,"loadingKey",r.$loadingKey),Oe(this.$apollo,"error",r.$error),Oe(this.$apollo,"watchLoading",r.$watchLoading),Object.defineProperty(this,"$apolloData",{get:function(){return t.$data.$apolloData},enumerable:!0,configurable:!0});var o=function(e){"$"!==e.charAt(0)&&(ke(t,e)||ke(t.$props,e)||ke(t.$data,e)||Object.defineProperty(t,e,{get:function(){return t.$data.$apolloData.data[e]},enumerable:!0,configurable:!0}),t.$apollo.addSmartQuery(e,r[e]))};for(var i in r)o(i);if(r.subscribe&&zt.Vue.util.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),r.$subscribe)for(var i in r.$subscribe)this.$apollo.addSmartSubscription(i,r.$subscribe[i])}}};function Oe(t,e,r){void 0!==r&&("function"==typeof r?t.defineReactiveSetter(e,r):t[e]=r)}function je(t,e){if(!je.installed){je.installed=!0,zt.Vue=t;var r=t.config.optionMergeStrategies.methods;t.config.optionMergeStrategies.apollo=function(t,e,o){if(!t)return e;if(!e)return t;for(var i=Object.assign({},pt(t,$e),t.data),n=Object.assign({},pt(e,$e),e.data),a={},s=0;s<$e.length;s++){var u=$e[s];a[u]=r(t[u],e[u])}return Object.assign(a,r(i,n))},Object.defineProperty(t.prototype,"$apollo",{get:function(){return this._apollo||(this._apollo=new fe(this)),this._apollo}});var o=t.version.substr(0,t.version.indexOf("."));t.mixin(ie({},"1"===o?{init:function(){var t=void 0;t=this.$options.apolloProvider?this._apolloProvider=this.$options.apolloProvider:this.$root._apolloProvider,this.$apolloProvider=t}}:{},"2"===o?{inject:{$apolloProvider:{default:null}},data:function(){return{$apolloData:{queries:{},loading:0,data:{}}}}}:{},{created:we,destroyed:function(){this._apollo&&(this._apollo.destroy(),this._apollo=null)}})),"2"===o&&(t.component("apollo-query",be),t.component("ApolloQuery",be),t.component("apollo-subscribe-to-more",me),t.component("ApolloSubscribeToMore",me),t.component("apollo-mutation",_e),t.component("ApolloMutation",_e))}}ve.install=je,ve.version="3.0.0-beta.10";var Se=ve,Ae=be,Pe=me,xe=_e,qe=null;return"undefined"!=typeof window?qe=window.Vue:"undefined"!=typeof global&&(qe=global.Vue),qe&&qe.use(ve),t.install=je,t.ApolloProvider=Se,t.ApolloQuery=Ae,t.ApolloSubscribeToMore=Pe,t.ApolloMutation=xe,t.default=ve,t.willPrefetch=ye,t}({});
