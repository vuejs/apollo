!function(t){"use strict";function e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function r(t,e){var r=t?t.length:0;return!!r&&a(t,e,0)>-1}function i(t,e,r){for(var i=-1,n=t?t.length:0;++i<n;)if(r(e,t[i]))return!0;return!1}function n(t,e){for(var r=-1,i=t?t.length:0,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function o(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}function s(t,e,r,i){for(var n=t.length,o=r+(i?1:-1);i?o--:++o<n;)if(e(t[o],o,t))return o;return-1}function a(t,e,r){if(e!==e)return s(t,u,r);for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}function u(t){return t!==t}function l(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function c(t){return function(e){return t(e)}}function f(t,e){return t.has(e)}function h(t,e){return null==t?void 0:t[e]}function p(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function v(t,e){return function(r){return t(e(r))}}function y(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function d(){this.__data__=le?le(null):{}}function b(t){return this.has(t)&&delete this.__data__[t]}function g(t){var e=this.__data__;if(le){var r=e[t];return r===Tt?void 0:r}return Yt.call(e,t)?e[t]:void 0}function _(t){var e=this.__data__;return le?void 0!==e[t]:Yt.call(e,t)}function m(t,e){var r=this.__data__;return r[t]=le&&void 0===e?Tt:e,this}function w(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function k(){this.__data__=[]}function O(t){var e=this.__data__,r=K(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():ne.call(e,r,1),!0}function j(t){var e=this.__data__,r=K(e,t);return r<0?void 0:e[r][1]}function $(t){return K(this.__data__,t)>-1}function S(t,e){var r=this.__data__,i=K(r,t);return i<0?r.push([t,e]):r[i][1]=e,this}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function P(){this.__data__={hash:new y,map:new(ue||w),string:new y}}function x(t){return J(this,t).delete(t)}function E(t){return J(this,t).get(t)}function L(t){return J(this,t).has(t)}function Q(t,e){return J(this,t).set(t,e),this}function T(t){var e=-1,r=t?t.length:0;for(this.__data__=new A;++e<r;)this.add(t[e])}function M(t){return this.__data__.set(t,Tt),this}function q(t){return this.__data__.has(t)}function C(t,e){var r=he(t)||nt(t)?l(t.length,String):[],i=r.length,n=!!i;for(var o in t)!e&&!Yt.call(t,o)||n&&("length"==o||B(o,i))||r.push(o);return r}function K(t,e){for(var r=t.length;r--;)if(it(t[r][0],e))return r;return-1}function V(t,e,o,s){var a=-1,u=r,l=!0,h=t.length,p=[],v=e.length;if(!h)return p;o&&(e=n(e,c(o))),s?(u=i,l=!1):e.length>=Qt&&(u=f,l=!1,e=new T(e));t:for(;++a<h;){var y=t[a],d=o?o(y):y;if(y=s||0!==y?y:0,l&&d===d){for(var b=v;b--;)if(e[b]===d)continue t;p.push(y)}else u(e,d,s)||p.push(y)}return p}function R(t,e,r,i,n){var s=-1,a=t.length;for(r||(r=z),n||(n=[]);++s<a;){var u=t[s];e>0&&r(u)?e>1?R(u,e-1,r,i,n):o(n,u):i||(n[n.length]=u)}return n}function D(t,e,r){var i=e(t);return he(t)?i:o(i,r(t))}function N(t){if(!lt(t)||Y(t))return!1;var e=at(t)||p(t)?te:Nt;return e.test(rt(t))}function I(t){if(!lt(t))return tt(t);var e=Z(t),r=[];for(var i in t)("constructor"!=i||!e&&Yt.call(t,i))&&r.push(i);return r}function F(t,e){return t=Object(t),H(t,e,function(e,r){return r in t})}function H(t,e,r){for(var i=-1,n=e.length,o={};++i<n;){var s=e[i],a=t[s];r(a,s)&&(o[s]=a)}return o}function W(t,r){return r=ae(void 0===r?t.length-1:r,0),function(){for(var i=arguments,n=-1,o=ae(i.length-r,0),s=Array(o);++n<o;)s[n]=i[r+n];n=-1;for(var a=Array(r+1);++n<r;)a[n]=i[n];return a[r]=s,e(t,this,a)}}function G(t){return D(t,ht,fe)}function J(t,e){var r=t.__data__;return X(e)?r["string"==typeof e?"string":"hash"]:r.map}function U(t,e){var r=h(t,e);return N(r)?r:void 0}function z(t){return he(t)||nt(t)||!!(oe&&t&&t[oe])}function B(t,e){return e=null==e?qt:e,!!e&&("number"==typeof t||It.test(t))&&t>-1&&t%1==0&&t<e}function X(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Y(t){return!!Bt&&Bt in t}function Z(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Ut;return t===r}function tt(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function et(t){if("string"==typeof t||ft(t))return t;var e=t+"";return"0"==e&&1/t==-Mt?"-0":e}function rt(t){if(null!=t){try{return Xt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function it(t,e){return t===e||t!==t&&e!==e}function nt(t){return st(t)&&Yt.call(t,"callee")&&(!ie.call(t,"callee")||Zt.call(t)==Ct)}function ot(t){return null!=t&&ut(t.length)&&!at(t)}function st(t){return ct(t)&&ot(t)}function at(t){var e=lt(t)?Zt.call(t):"";return e==Kt||e==Vt}function ut(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=qt}function lt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ct(t){return!!t&&"object"==typeof t}function ft(t){return"symbol"==typeof t||ct(t)&&Zt.call(t)==Rt}function ht(t){return ot(t)?C(t,!0):I(t)}function pt(){return[]}function vt(t,e,r){function i(e){var r=h,i=p;return h=p=void 0,g=e,y=t.apply(i,r)}function n(t){return g=t,d=setTimeout(a,e),_?i(t):y}function o(t){var r=t-b,i=t-g,n=e-r;return m?xe(n,v-i):n}function s(t){var r=t-b,i=t-g;return void 0===b||r>=e||r<0||m&&i>=v}function a(){var t=Ee();return s(t)?u(t):void(d=setTimeout(a,o(t)))}function u(t){return d=void 0,w&&h?i(t):(h=p=void 0,y)}function l(){void 0!==d&&clearTimeout(d),g=0,h=b=p=d=void 0}function c(){return void 0===d?y:u(Ee())}function f(){var t=Ee(),r=s(t);if(h=arguments,p=this,b=t,r){if(void 0===d)return n(b);if(m)return d=setTimeout(a,e),i(b)}return void 0===d&&(d=setTimeout(a,e)),y}var h,p,v,y,d,b,g=0,_=!1,m=!1,w=!0;if("function"!=typeof t)throw new TypeError(ye);return e=_t(e)||0,dt(r)&&(_=!!r.leading,m="maxWait"in r,v=m?Pe(_t(r.maxWait)||0,e):v,w="trailing"in r?!!r.trailing:w),f.cancel=l,f.flush=c,f}function yt(t,e,r){var i=!0,n=!0;if("function"!=typeof t)throw new TypeError(ye);return dt(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),vt(t,e,{leading:i,maxWait:e,trailing:n})}function dt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function bt(t){return!!t&&"object"==typeof t}function gt(t){return"symbol"==typeof t||bt(t)&&Ae.call(t)==be}function _t(t){if("number"==typeof t)return t;if(gt(t))return de;if(dt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=dt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ge,"");var r=me.test(t);return r||we.test(t)?ke(t.slice(2),r?2:8):_e.test(t)?de:+t}function mt(t,e,r){function i(e){var r=h,i=p;return h=p=void 0,g=e,y=t.apply(i,r)}function n(t){return g=t,d=setTimeout(a,e),_?i(t):y}function o(t){var r=t-b,i=t-g,n=e-r;return m?Ge(n,v-i):n}function s(t){var r=t-b,i=t-g;return void 0===b||r>=e||r<0||m&&i>=v}function a(){var t=Je();return s(t)?u(t):void(d=setTimeout(a,o(t)))}function u(t){return d=void 0,w&&h?i(t):(h=p=void 0,y)}function l(){void 0!==d&&clearTimeout(d),g=0,h=b=p=d=void 0}function c(){return void 0===d?y:u(Je())}function f(){var t=Je(),r=s(t);if(h=arguments,p=this,b=t,r){if(void 0===d)return n(b);if(m)return d=setTimeout(a,e),i(b)}return void 0===d&&(d=setTimeout(a,e)),y}var h,p,v,y,d,b,g=0,_=!1,m=!1,w=!0;if("function"!=typeof t)throw new TypeError(Qe);return e=jt(e)||0,wt(r)&&(_=!!r.leading,m="maxWait"in r,v=m?We(jt(r.maxWait)||0,e):v,w="trailing"in r?!!r.trailing:w),f.cancel=l,f.flush=c,f}function wt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function kt(t){return!!t&&"object"==typeof t}function Ot(t){return"symbol"==typeof t||kt(t)&&He.call(t)==Me}function jt(t){if("number"==typeof t)return t;if(Ot(t))return Te;if(wt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=wt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(qe,"");var r=Ke.test(t);return r||Ve.test(t)?Re(t.slice(2),r?2:8):Ce.test(t)?Te:+t}function $t(t){return function(e,r){return"number"==typeof r?t(e,r):t(e,r.wait,r)}}function St(t){return ze.Vue.util.mergeOptions({},t)}function At(t,e){for(;"function"==typeof t;)t=t.call(e);return t}function Pt(t){return pr.push(t),t}function xt(t,e,r){"undefined"!=typeof r&&("function"==typeof r?t.defineReactiveSetter(e,r):t[e]=r)}function Et(t,e){if(!Et.installed){Et.installed=!0,ze.Vue=t;var r=t.config.optionMergeStrategies.methods;t.config.optionMergeStrategies.apollo=function(t,e,i){if(!t)return e;if(!e)return t;for(var n=Object.assign({},ve(t,vr),t.data),o=Object.assign({},ve(e,vr),e.data),s={},a=0;a<vr.length;a++){var u=vr[a];s[u]=r(t[u],e[u])}return Object.assign(s,r(n,o))},Object.defineProperty(t.prototype,"$apollo",{get:function(){return this._apollo||(this._apollo=new fr(this)),this._apollo}}),t.mixin({init:yr,beforeCreate:yr,data:function(){return this._apolloInitData||{}},created:dr,destroyed:function(){this._apollo&&(this._apollo.destroy(),this._apollo=null)}})}}var Lt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qt=200,Tt="__lodash_hash_undefined__",Mt=1/0,qt=9007199254740991,Ct="[object Arguments]",Kt="[object Function]",Vt="[object GeneratorFunction]",Rt="[object Symbol]",Dt=/[\\^$.*+?()[\]{}|]/g,Nt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,Ft="object"==typeof Lt&&Lt&&Lt.Object===Object&&Lt,Ht="object"==typeof self&&self&&self.Object===Object&&self,Wt=Ft||Ht||Function("return this")(),Gt=Array.prototype,Jt=Function.prototype,Ut=Object.prototype,zt=Wt["__core-js_shared__"],Bt=function(){var t=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xt=Jt.toString,Yt=Ut.hasOwnProperty,Zt=Ut.toString,te=RegExp("^"+Xt.call(Yt).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=Wt.Symbol,re=v(Object.getPrototypeOf,Object),ie=Ut.propertyIsEnumerable,ne=Gt.splice,oe=ee?ee.isConcatSpreadable:void 0,se=Object.getOwnPropertySymbols,ae=Math.max,ue=U(Wt,"Map"),le=U(Object,"create");y.prototype.clear=d,y.prototype.delete=b,y.prototype.get=g,y.prototype.has=_,y.prototype.set=m,w.prototype.clear=k,w.prototype.delete=O,w.prototype.get=j,w.prototype.has=$,w.prototype.set=S,A.prototype.clear=P,A.prototype.delete=x,A.prototype.get=E,A.prototype.has=L,A.prototype.set=Q,T.prototype.add=T.prototype.push=M,T.prototype.has=q;var ce=se?v(se,Object):pt,fe=se?function(t){for(var e=[];t;)o(e,ce(t)),t=re(t);return e}:pt,he=Array.isArray,pe=W(function(t,e){return null==t?{}:(e=n(R(e,1),et),F(t,V(G(t),e)))}),ve=pe,ye="Expected a function",de=NaN,be="[object Symbol]",ge=/^\s+|\s+$/g,_e=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,we=/^0o[0-7]+$/i,ke=parseInt,Oe="object"==typeof Lt&&Lt&&Lt.Object===Object&&Lt,je="object"==typeof self&&self&&self.Object===Object&&self,$e=Oe||je||Function("return this")(),Se=Object.prototype,Ae=Se.toString,Pe=Math.max,xe=Math.min,Ee=function(){return $e.Date.now()},Le=yt,Qe="Expected a function",Te=NaN,Me="[object Symbol]",qe=/^\s+|\s+$/g,Ce=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,Re=parseInt,De="object"==typeof Lt&&Lt&&Lt.Object===Object&&Lt,Ne="object"==typeof self&&self&&self.Object===Object&&self,Ie=De||Ne||Function("return this")(),Fe=Object.prototype,He=Fe.toString,We=Math.max,Ge=Math.min,Je=function(){return Ie.Date.now()},Ue=mt,ze={},Be=$t(Le),Xe=$t(Ue),Ye=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore"],Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},er=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),rr=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},ir=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},nr=function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},or=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},sr=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},ar=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},ur=function(){function t(e,r,i){var n=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(tr(this,t),this.type=null,this.vueApolloSpecialKeys=[],this.vm=e,this.key=r,this.options=Object.assign({},i),this._skip=!1,this._watchers=[],"function"==typeof this.options.query){var s=this.options.query.bind(this.vm);this.options.query=s(),this._watchers.push(this.vm.$watch(s,function(t){n.options.query=t,n.refresh()}))}if("function"==typeof this.options.document){var a=this.options.document.bind(this.vm);this.options.document=a(),this._watchers.push(this.vm.$watch(a,function(t){n.options.document=t,n.refresh()}))}o&&this.autostart()}return er(t,[{key:"autostart",value:function(){"function"==typeof this.options.skip?this._watchers.push(this.vm.$watch(this.options.skip.bind(this.vm),this.skipChanged.bind(this),{immediate:!0})):this.options.skip?this._skip=!0:this.start()}},{key:"skipChanged",value:function(t,e){t!==e&&(this.skip=t)}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var t=this;if(this.starting=!0,"function"==typeof this.options.variables){var e=this.executeApollo.bind(this);e=this.options.throttle?Be(e,this.options.throttle):e,e=this.options.debounce?Xe(e,this.options.debounce):e,this.unwatchVariables=this.vm.$watch(function(){return t.options.variables.call(t.vm)},e,{immediate:!0})}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){this.unwatchVariables&&(this.unwatchVariables(),this.unwatchVariables=null),this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(t){var e=ve(this.options,this.vueApolloSpecialKeys);return e.variables=t,e}},{key:"executeApollo",value:function(t){this.starting=!1}},{key:"nextResult",value:function(){throw new Error("Not implemented")}},{key:"errorHandler",value:function(){for(var t,e,r,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];this.options.error&&(t=this.options.error).call.apply(t,[this.vm].concat(n)),this.vm.$apollo.error&&(e=this.vm.$apollo.error).call.apply(e,[this.vm].concat(n)),this.vm.$apollo.provider.errorHandler&&(r=this.vm.$apollo.provider.errorHandler).call.apply(r,[this.vm].concat(n))}},{key:"catchError",value:function(t){if(t.graphQLErrors&&0!==t.graphQLErrors.length){console.error("GraphQL execution errors for "+this.type+" '"+this.key+"'");var e=!0,r=!1,i=void 0;try{for(var n,o=t.graphQLErrors[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;console.error(s)}}catch(t){r=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw i}}}else if(t.networkError)console.error("Error sending the "+this.type+" '"+this.key+"'",t.networkError);else if(console.error("[vue-apollo] An error has occured for "+this.type+" '"+this.key+"'"),Array.isArray(t)){var a;(a=console).error.apply(a,ar(t))}else console.error(t);this.errorHandler(t)}},{key:"destroy",value:function(){this.stop();var t=!0,e=!1,r=void 0;try{for(var i,n=this._watchers[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o()}}catch(t){e=!0,r=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw r}}}},{key:"skip",get:function(){return this._skip},set:function(t){t?this.stop():this.start(),this._skip=t}}]),t}(),lr=function(t){function e(t,r,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(tr(this,e),!i.query){var o=i;i={query:o}}var s=sr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i,n));return s.type="query",s.vueApolloSpecialKeys=Ye,s.loading=!1,s}return or(e,t),er(e,[{key:"stop",value:function(){nr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"executeApollo",value:function(t){this.observer?this.observer.setOptions(this.generateApolloOptions(t)):(this.sub&&this.sub.unsubscribe(),this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(t)),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)})),this.maySetLoading(),nr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"executeApollo",this).call(this,t)}},{key:"maySetLoading",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.observer.currentResult();(t||e.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0)}},{key:"nextResult",value:function(t){var e=t.data,r=t.loading;r||this.loadingDone(),"undefined"==typeof e||("function"==typeof this.options.update?this.vm[this.key]=this.options.update.call(this.vm,e):void 0===e[this.key]?console.error("Missing "+this.key+" attribute on result",e):this.vm[this.key]=e[this.key]),"function"==typeof this.options.result&&this.options.result.call(this.vm,t)}},{key:"catchError",value:function(t){nr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"catchError",this).call(this,t),this.loadingDone()}},{key:"watchLoading",value:function(){for(var t,e,r,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];this.options.watchLoading&&(t=this.options.watchLoading).call.apply(t,[this.vm].concat(n)),this.vm.$apollo.watchLoading&&(e=this.vm.$apollo.watchLoading).call.apply(e,[this.vm].concat(n)),this.vm.$apollo.provider.watchLoading&&(r=this.vm.$apollo.provider.watchLoading).call.apply(r,[this.vm].concat(n))}},{key:"applyLoadingModifier",value:function(t){var e=this.loadingKey;e&&"number"==typeof this.vm[e]&&(this.vm[e]+=t),this.watchLoading(1===t,t)}},{key:"loadingDone",value:function(){this.loading&&this.applyLoadingModifier(-1),this.loading=!1}},{key:"fetchMore",value:function(){var t=this;if(this.observer){var e;return this.maySetLoading(!0),(e=this.observer).fetchMore.apply(e,arguments).then(function(e){return e.loading||t.loadingDone(),e})}}},{key:"subscribeToMore",value:function(){if(this.observer){var t;return{unsubscribe:(t=this.observer).subscribeToMore.apply(t,arguments)}}}},{key:"refetch",value:function(t){var e=this;if(t&&(this.options.variables=t),this.observer){var r=this.observer.refetch(t).then(function(t){return t.loading||e.loadingDone(),t});return this.maySetLoading(),r}}},{key:"setVariables",value:function(t,e){if(this.options.variables=t,this.observer){var r=this.observer.setVariables(t,e);return this.maySetLoading(),r}}},{key:"setOptions",value:function(t){if(Object.assign(this.options,t),this.observer){var e=this.observer.setOptions(t);return this.maySetLoading(),e}}},{key:"startPolling",value:function(){if(this.observer){var t;return(t=this.observer).startPolling.apply(t,arguments)}}},{key:"stopPolling",value:function(){if(this.observer){var t;return(t=this.observer).stopPolling.apply(t,arguments)}}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}}]),e}(ur),cr=function(t){function e(){var t,r,i,n;tr(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=i=sr(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.type="subscription",i.vueApolloSpecialKeys=["variables","result","error","throttle","debounce","linkedQuery"],n=r,sr(i,n)}return or(e,t),er(e,[{key:"executeApollo",value:function(t){this.sub&&this.sub.unsubscribe();var r=this.generateApolloOptions(t);this.options.linkedQuery?this.sub=this.options.linkedQuery.subscribeToMore(r):(this.observer=this.vm.$apollo.subscribe(r),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)})),nr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"executeApollo",this).call(this,t)}},{key:"nextResult",value:function(t){"function"==typeof this.options.result&&this.options.result.call(this.vm,t)}}]),e}(ur),fr=function(){function t(e){tr(this,t),this._apolloSubscriptions=[],this._watchers=[],this.vm=e,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return er(t,[{key:"query",value:function(t){return this.getClient(t).query(t)}},{key:"getClient",value:function(t){if(!t||!t.client){if("object"===Ze(this.client))return this.client;if(this.client){if(this.provider.clients){var e=this.provider.clients[this.client];if(!e)throw new Error("[vue-apollo] Missing client '"+this.client+"' in 'apolloProvider'");return e}throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'")}return this.provider.defaultClient}var r=this.provider.clients[t.client];if(!r)throw new Error("[vue-apollo] Missing client '"+t.client+"' in 'apolloProvider'");return r}},{key:"watchQuery",value:function(t){var e=this,r=this.getClient(t).watchQuery(t),i=r.subscribe.bind(r);return r.subscribe=function(t){var r=i(t);return e._apolloSubscriptions.push(r),r},r}},{key:"mutate",value:function(t){return this.getClient(t).mutate(t)}},{key:"subscribe",value:function(t){var e=this,r=this.getClient(t).subscribe(t),i=r.subscribe.bind(r);return r.subscribe=function(t){var r=i(t);return e._apolloSubscriptions.push(r),r},r}},{key:"addSmartQuery",value:function(t,e){var r=this;e=At(e,this.vm);var i=this.queries[t]=new lr(this.vm,t,e,!1);i.autostart();var n=e.subscribeToMore;return n&&(Array.isArray(n)?n.forEach(function(e,n){r.addSmartSubscription(""+t+n,ir({},e,{linkedQuery:i}))}):this.addSmartSubscription(t,ir({},n,{linkedQuery:i}))),i}},{key:"addSmartSubscription",value:function(t,e){e=At(e,this.vm);var r=this.subscriptions[t]=new cr(this.vm,t,e,!1);return r.autostart(),r}},{key:"defineReactiveSetter",value:function(t,e){var r=this;this._watchers.push(this.vm.$watch(e,function(e){r[t]=e},{immediate:!0}))}},{key:"destroy",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this._watchers[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o()}}catch(t){e=!0,r=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw r}}for(var s in this.queries)this.queries[s].destroy();for(var a in this.subscriptions)this.subscriptions[a].destroy();this._apolloSubscriptions.forEach(function(t){t.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}},{key:"provider",get:function(){return this._apolloProvider||this.vm.$root._apolloProvider}},{key:"skipAllQueries",set:function(t){for(var e in this.queries)this.queries[e].skip=t}},{key:"skipAllSubscriptions",set:function(t){for(var e in this.subscriptions)this.subscriptions[e].skip=t}},{key:"skipAll",set:function(t){this.skipAllQueries=t,this.skipAllSubscriptions=t}}]),t}(),hr=function(){function t(e){if(tr(this,t),!e)throw new Error("Options argument required");this.clients=e.clients||{},this.clients.defaultClient=this.defaultClient=e.defaultClient,this.defaultOptions=e.defaultOptions,this.watchLoading=e.watchLoading,this.errorHandler=e.errorHandler,this.prefetchQueries=[]}return er(t,[{key:"willPrefetchQuery",value:function(t,e){this.prefetchQueries.push({queryOptions:t,client:e})}},{key:"willPrefetch",value:function(t){t=St(t);var e=t.apollo;if(e){var r=e.$client;for(var i in e){var n=e[i];"$"===i.charAt(0)||n.query&&("undefined"!=typeof n.ssr&&!n.ssr||"undefined"==typeof n.prefetch||!n.prefetch)||this.willPrefetchQuery(n,n.client||r)}}}},{key:"willPrefetchComponents",value:function(t){var e=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;this.willPrefetch(s)}}catch(t){r=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"prefetchAll",value:function(t,e,r){var i=this;r||!e||Array.isArray(e)||(r=e,e=void 0);var n=Object.assign({},{includeGlobal:!0},r);return e&&this.willPrefetchComponents(e),n.includeGlobal&&this.willPrefetchComponents(pr),Promise.all(this.prefetchQueries.map(function(e){return i.prefetchQuery(e.queryOptions,t,e.client)}))}},{key:"prefetchQuery",value:function(t,e,r){var i=void 0;if(r){if("string"==typeof r&&(r=this.clients[r],!r))throw new Error("[vue-apollo] Missing client '"+r+"' in 'apolloProvider'")}else r=this.defaultClient;if(t.query){var n=t.prefetch,o="undefined"==typeof n?"undefined":Ze(n);if("undefined"!==o){var s=void 0;if(s="function"===o?n(e):n,!s)return Promise.resolve();if("boolean"===o){var a=t.variables;i="undefined"!=typeof a?"function"==typeof a?a.call(e):a:void 0}else i=s}}else t={query:t};return new Promise(function(e,n){var o=ve(t,Ye);o.variables=i,r.query(o).then(e,n)})}},{key:"getStates",value:function(t){var e=Object.assign({},{exportNamespace:""},t),r={};for(var i in this.clients){var n=this.clients[i],o=rr({},n.reduxRootKey||"apollo",n.getInitialState());r[""+e.exportNamespace+i]=o}return r}},{key:"exportStates",value:function(t){var e=Object.assign({},{globalName:"__APOLLO_STATE__",attachTo:"window"},t),r=this.getStates(e),i=e.attachTo+"."+e.globalName+" = "+JSON.stringify(r)+";";return i}}]),t}(),pr=[],vr=["$subscribe"],yr=function(){var t=void 0;if(t=this.$options.apolloProvider?this._apolloProvider=this.$options.apolloProvider:this.$root._apolloProvider,!this._apolloPrepared){this._apolloPrepared=!0;var e=this.$options.apollo;if(e){this._apolloQueries={},this._apolloInitData={},e.$init||(e.$init=!0,t.defaultOptions&&(e=this.$options.apollo=Object.assign({},t.defaultOptions,e)));for(var r in e)"$"!==r.charAt(0)&&(this._apolloInitData[r]=null,this._apolloQueries[r]=e[r])}}},dr=function(){if(!this._apolloLaunched){this._apolloLaunched=!0;var t=this.$options.apollo;if(t&&(xt(this.$apollo,"skipAll",t.$skipAll),xt(this.$apollo,"skipAllQueries",t.$skipAllQueries),xt(this.$apollo,"skipAllSubscriptions",t.$skipAllSubscriptions),xt(this.$apollo,"client",t.$client),xt(this.$apollo,"loadingKey",t.$loadingKey),xt(this.$apollo,"error",t.$error),xt(this.$apollo,"watchLoading",t.$watchLoading)),this._apolloQueries)for(var e in this._apolloQueries)this.$apollo.addSmartQuery(e,this._apolloQueries[e]);if(t&&(t.subscribe&&ze.Vue.util.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),t.$subscribe))for(var r in t.$subscribe)this.$apollo.addSmartSubscription(r,t.$subscribe[r])}};hr.install=Et;var br=hr,gr=null;"undefined"!=typeof window?gr=window.Vue:"undefined"!=typeof global&&(gr=global.Vue),gr&&gr.use(hr),t.install=Et,t.ApolloProvider=br,t.default=hr,t.willPrefetch=Pt}(this.VueApollo=this.VueApollo||{});
